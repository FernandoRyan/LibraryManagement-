(window.webpackJsonp=window.webpackJsonp||[]).push([["modules/nextcontent"],{aadc7fac9270e944b350:function(e,t,n){"use strict";n.r(t),n.d(t,"bindEventRemoveDividerOnScrollOver",function(){return S});var r=n("a4a92fe9c6eecbf958fe"),o=n("114e6051b0f5f7c39077"),c=n("654adc4d2d3e5dbaee18");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a,l,u,d,s=document.querySelector(".content-container"),f=document.querySelector("#mobile-adhesion-unit"),y=!1,b=!1,v=window.STICKY_PLAYER_ENABLED;function h(){v&&document.querySelector(".glimmer-sticky-wrapper")&&(v=!1,o.a.trigger("adjustVideoForNextContent"))}var m=Object(r.a)([function(e){h(),"HEADER"===e.target.tagName&&(b=!0),b&&(f.style.display="none"),b&&!y&&(o.a.trigger("nextContentInView",u),y=!0)},function(e){"DIV"===e.target.tagName&&(b=!1),b&&(f.style.display="block")}]);function S(t){window.addEventListener("scroll",function e(){window.scrollY>t.offsetTop+t.offsetHeight&&(t.remove(),window.removeEventListener("scroll",e))})}function g(e,t,n){var r;switch(l){case"gallery":!function(e,t){new a({contentId:t,el:e.querySelector(".slideshow-inner"),isNextGallery:!0})}(t,n),r=t.querySelector(".slide-container");break;case"listicle":r=t.querySelector(".listicle-body-content");break;case"long-form-article":!function(e){var t=new a({el:e.querySelector(".content-lede-loop")});t.displayLoopOrFallback()}(e),r=t.querySelector(".longform-body");break;case"standard-article":!function(e){var t=new a({el:e.querySelector(".content-lede-loop")});t.displayLoopOrFallback()}(t),r=t.querySelector(".standard-body-content");break;default:return}o.a.trigger("adApiUpdate",[{container:r,lazyload:!1}]),o.a.trigger("nextContentLoaded",u)}var w=Object(r.a)([function(e,t){t.disconnect();var n=i(function(){var e=s.querySelector(".next-with-recirc > a");if(!e)return[];var t=Object(c.l)(window.location)?new URLSearchParams(window.location.search).get("utm_campaign"):"";return[e.attributes["data-id"].value,"".concat(e.attributes.href.value,"?content-only=yes").concat(t)]}(),2),o=n[0],r=n[1];if(o){var a=Object(c.f)("/ajax/datalayerdata/",{id:o});h(),Promise.all([function(e){return fetch(e)}(r).then(function(e){return e.text()}),function(e){return fetch(e)}(a).then(function(e){return e.json()})]).then(function(e){var t=i(e,2),n=t[0],r=t[1];return u=function(e){return{"HRST.article":e.article,"HRST.datalayer":e.datalayer,"HRST.metadata":e.metadata}}(r),Object(c.s)(function(){return function(e){var t=document.createElement("div");return t.innerHTML=e,[t.querySelector(".leaderboard-ad"),t.querySelector(".content-header, .longform-header"),t.querySelector(".content-container"),t.querySelector(".next-content-divider")]}(n)})}).then(function(e){var t=i(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return Object(c.s)(function(){return function(e,t,n,r){n.classList.add("next-content"),s.parentNode.insertBefore(n,s.nextSibling),s.parentNode.insertBefore(t,s.nextSibling),e&&(e.classList.add("next-content-leaderboard"),s.parentNode.insertBefore(e,s.nextSibling)),r&&(S(r),s.parentNode.insertBefore(r,s.nextSibling))}(d=n,r,o,a),[r,o]})}).then(function(e){var t=i(e,2),n=t[0],r=t[1];return Object(c.s)(function(){return g(n,r,o)})}).then(function(){if(s&&!s.classList.contains("slideshow-container")){var e=document.querySelectorAll(".content-container"),t="long-form-article"===l?".article-header":".content-header";m.observe(e[0]),m.observe(document.querySelectorAll(t)[1]),d&&m.observe(d)}})}},c.o]);t.default=function(e,t){a=t,l=e;var n=function(){switch(l){case"gallery":var e=s.querySelectorAll(".slideshow-slide.loaded");return e.item(e.length-6)||e.item(0);case"listicle":var t=s.querySelectorAll(".listicle-slide");return t.item(t.length-6)||t.item(0);case"long-form-article":return s.querySelector(".longform-body > :nth-last-child(10)")||s.querySelector(".longform-body > :first-child");case"standard-article":return s.querySelector(".standard-body-content > :nth-last-child(10)")||s.querySelector(".standard-body-content > :first-child");default:return null}}();n&&w.observe(n)}}}]);
//# sourceMappingURL=nextcontent.b70b3e4.js.map